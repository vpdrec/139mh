import{_ as b}from"./Header.nOPJYTzQ.js";import{_ as B}from"./nuxt-link._a9N7PSJ.js";import{H as L,o,c,a as e,al as N,f as A,s as F,g as M,r as z,k as m,$ as u,l as I,b as i,m as d,K as T,L as Y,M as S,w as p,t as v,N as O}from"./entry.Oww5E9ug.js";import{$ as j}from"./emitter.Fv6qbJ0I.js";import{$ as E}from"./func.-JA0-Hy7.js";import{_ as K}from"./_plugin-vue_export-helper.x3n3nnut.js";import{N as P}from"./Icon.NsU-F02S.js";import{_ as R}from"./Result.28K3lK1O.js";import"./use-compitable.nfFXhji7.js";import"./use-merged-state.1wCL4OJK.js";import"./moment.WSJ9un1t.js";import"./format-length.4l65r8M5.js";const U={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},q=e("defs",null,null,-1),G=e("path",{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6c-.3 1.5-.4 3-.4 4.4c0 14.4 11.6 26 26 26h723c1.5 0 3-.1 4.4-.4c14.2-2.4 23.7-15.9 21.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z",fill:"currentColor"},null,-1),J=[q,G],Q=L({name:"ClearOutlined",render:function(r,l){return o(),c("svg",U,J)}}),W={class:"container-full flex-col align-items-center header-mt-def"},X={class:"container border-box flex-col pb-10"},Z={key:0,class:"fav-list mt-10"},tt={class:"cover"},et=["src"],st={class:"txt txt-sigle fw-600 fs-14 mt-10"},ot={class:"flex-row mt-5 justify-content-between align-items-center"},nt={class:"fs-12 color-grey"},ct={__name:"fav",async setup(h){let r,l;const g=N(),x=A.glob(),{conf:w}=F(x),a=M();let n=z([]);j().on("FAV_ADD",async()=>{console.log("call hook FAV_ADD"),await f()});const $=m(()=>t=>`${w.value.cover_url}${t}`),k=m(()=>t=>E.timeFmt(t,"YYYY-MM-DD")),f=async()=>{a.start();const t=await u.get("fav/fav_list");t&&(n.value=t.result),a.finish()},H=t=>{g.warning({title:"警告",content:"确定删除？",positiveText:"确定",negativeText:"取消",onPositiveClick:async()=>{if(a.start(),await u.get("fav/del",{id:t})){const _=O(n.value,{id:t});n.value.splice(_,1)}a.finish()}})};return[r,l]=I(()=>f()),await r,l(),(t,y)=>{const _=b,C=B,V=P,D=R;return o(),c("div",W,[e("div",X,[i(_,{act:"fav",class:"px-10"}),d(n).length>0?(o(),c("div",Z,[(o(!0),c(T,null,Y(d(n),s=>(o(),c("div",{class:"fav-item",key:s.id},[i(C,{to:`/comic-${s.id}`},{default:p(()=>[e("div",tt,[e("img",{src:$.value(s.cover)},null,8,et)]),e("div",st,v(s.title),1)]),_:2},1032,["to"]),e("div",ot,[e("div",nt,v(k.value(s.created_at)),1),i(V,{class:"pointer",size:"22px",color:"#ff7300",onClick:at=>H(s.id)},{default:p(()=>[i(d(Q))]),_:2},1032,["onClick"])])]))),128))])):(o(),S(D,{key:1,class:"mt-20",status:"418",title:"做一只可爱的仓鼠",description:"生活总归带点荒谬"}))])])}}},xt=K(ct,[["__scopeId","data-v-f3ed3237"]]);export{xt as default};
