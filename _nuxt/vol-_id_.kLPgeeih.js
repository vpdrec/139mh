import{_ as J}from"./nuxt-link.KuubLUz-.js";import{f as g,g as K,s as I,h as P,J as q,r as S,i as G,j as Q,k as W,l as X,c as a,b as l,w as s,K as z,a as k,t as L,L as Y,M as i,m as n,a6 as Z,o,d as u,a7 as h,a8 as ee,p as te,e as oe,$ as se,_ as le,n as ae}from"./entry.pfW3X8wa.js";import{h as ie}from"./moment.WSJ9un1t.js";import{_ as ne}from"./_plugin-vue_export-helper.x3n3nnut.js";import{_ as ce}from"./Affix.-AzrjiwF.js";import{L as re}from"./LeftOutlined.-pXFFij5.js";import{U as ue}from"./UpOutlined.tJ2orZ1i.js";import{_ as _e}from"./Result.FrhnZ0zu.js";import{N as me}from"./Icon.NFCevIQn.js";import"./format-length.4l65r8M5.js";const de=_=>(te("data-v-99ae7c76"),_=_(),oe(),_),pe={key:0,class:"header-mt container"},fe={class:"p-10 fs-16 fw-600 align-center"},ve={class:"flex-col align-items-center"},ge=de(()=>k("div",{class:"p-10"},"到底了！",-1)),he={key:1,class:"py-10"},ke={__name:"vol-[id]",async setup(_){let y,x;const N=g.glob(),R=g.user(),$=K(),{public:w}=ae(),{conf:T}=I(N),{isLogin:V}=I(R),B=P(),p=q(),D=g.history(),f=S(null),e=S(null),H=B.params.id,c=G({code:0,msg:""});Q({title:()=>{let t=w.metaTitle;return e.value?`${e.value.comic.title},${e.value.title},${w.metaTitle}`:t}});const j=W(()=>t=>`${T.value.img_url}${t}`),M=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},O=()=>{p.replace({path:`/comic/vol-${e.value.prev.id}`})},U=()=>{p.replace({path:`/comic/vol-${e.value.next.id}`})},A=async()=>{$.start();const t=await se.get(`vol/detail_${V.value?"vip":"client"}`,{id:H});t.code===0&&(e.value=t.info,D.add({vol_id:t.info.id,vol_title:t.info.title,comic_id:t.info.comic_id,comic_title:t.info.comic.title,cover:t.info.comic.cover,created_at:ie().unix()})),c.code=t.code,c.msg=t.msg,$.finish()};return[y,x]=X(()=>A()),await y,x(),(t,m)=>{const b=me,r=le,E=J,C=ce,v=_e,F=Z("lazy");return o(),a("div",{class:"container-full flex-col align-items-center",ref_key:"mainRef",ref:f},[l(C,{class:"header container flex-row align-items-center justify-content-between",top:0,"trigger-top":0,"listen-to":()=>f.value},{default:s(()=>[l(r,{round:"",size:"small",class:"ml-10",onClick:m[0]||(m[0]=d=>t.$router.back()),color:"#333"},{default:s(()=>[l(b,null,{default:s(()=>[l(n(re))]),_:1}),u("返回")]),_:1}),e.value?(o(),i(E,{key:0,class:"txt-sigle fs-16 color-white mr-10",to:`/comic-${e.value.comic_id}`},{default:s(()=>[u(L(e.value.comic.title),1)]),_:1},8,["to"])):h("",!0)]),_:1},8,["listen-to"]),e.value?(o(),a("div",pe,[e.value?(o(),a(z,{key:0},[k("div",fe,L(e.value.title),1),k("div",ve,[(o(!0),a(z,null,Y(e.value.img_list,d=>ee((o(),a("img",{key:d,class:"vol_img"})),[[F,j.value(d)]])),128)),ge])],64)):(o(),i(v,{key:1,class:"mt-10",status:"404",title:"404 资源不存在",description:"生活总归带点荒谬"})),l(C,{bottom:20,"trigger-bottom":20,"listen-to":()=>f.value,style:{right:"0"}},{default:s(()=>[e.value.prev?(o(),i(r,{key:0,round:"",size:"small",class:"mr-10",onClick:O,color:"#ffd100","text-color":"#000"},{default:s(()=>[u("上一话")]),_:1})):h("",!0),e.value.next?(o(),i(r,{key:1,round:"",size:"small",class:"mr-10",onClick:U,color:"#ffd100","text-color":"#000"},{default:s(()=>[u("下一话")]),_:1})):h("",!0),l(r,{round:"",size:"small",class:"mr-10",onClick:M,color:"#ffd100","text-color":"#000"},{default:s(()=>[l(b,null,{default:s(()=>[l(n(ue))]),_:1})]),_:1})]),_:1},8,["listen-to"])])):(o(),a("div",he,[n(c).code===4001050?(o(),i(v,{key:0,class:"header-mt pt-10",status:"404",title:n(c).msg,description:"世间不如意十之八九"},{footer:s(()=>[l(r,{onClick:m[1]||(m[1]=d=>n(p).push("/user/recharge")),size:"large",round:"",color:"#ffd100","text-color":"#000"},{default:s(()=>[u("买个VIP吧")]),_:1})]),_:1},8,["title"])):(o(),i(v,{key:1,class:"header-mt pt-10",status:"404",title:n(c).msg,description:"生活总归带点荒谬"},null,8,["title"]))]))],512)}}},Ne=ne(ke,[["__scopeId","data-v-99ae7c76"]]);export{Ne as default};
