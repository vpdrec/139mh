import{_ as ee}from"./nuxt-link.Z8JjbOGd.js";import{H as te,o,c as l,a as e,h as W,J as ae,f as j,s as A,r as O,i as se,a9 as oe,k as d,l as le,b as g,w as x,d as R,m as a,M as V,t as u,ba as i,a7 as E,a8 as re,ag as ne,K as w,L as k,n as ce,p as ie,e as ue,bb as de}from"./entry.6zLELcB1.js";import{$ as _e}from"./emitter.gyrfYuCz.js";import{_ as G}from"./_plugin-vue_export-helper.x3n3nnut.js";import{f as L}from"./find.qnrRAXxV.js";import{N as pe}from"./Icon.mJYNgCYw.js";import{_ as fe}from"./Affix.Ti7XtZwX.js";import"./format-length.4l65r8M5.js";const ve={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},me=e("path",{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1c-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z",fill:"currentColor"},null,-1),ge=[me],be=te({name:"SearchOutlined",render:function(v,f){return o(),l("svg",ve,ge)}}),he=p=>(ie("data-v-ebc83b3f"),p=p(),ue(),p),xe={class:"container-full bg-dark flex-col align-items-center"},we={class:"container border-box px-10 flex-row justify-content-between align-items-center header-height"},ke={key:0,class:"container-full flex-col align-items-center bg-white"},Ce={class:"container flex-col"},$e={class:"flex-row border-box pr-10 bb header-height justify-content-between align-items-center"},ye={class:"tag-item act"},Se=he(()=>e("span",{class:"ml-5"},"搜索",-1)),Le={class:"header-cata"},je={class:"main flex-col align-items-center"},Ae={class:"container"},Ie={class:"flex-row flex-wrap border-box pr-10 bb mt-10"},De=["onClick"],Ne=["onClick"],Oe=["onClick"],Re={class:"flex-row flex-wrap border-box pr-10 bb mt-10"},He=["onClick"],Te={class:"flex-row border-box flex-wrap pr-10 bb mt-10"},ze=["onClick"],Be={__name:"HeaderDefault",props:{pageAct:{type:String,required:!0}},async setup(p){let v,f;const _=W(),C=ae(),b=j.cata(),$=j.glob(),H=j.user(),{list:I}=A(b),{info:Pe,isLogin:P}=A(H),{conf:D}=A($),{public:T}=ce(),z=p,B=O(null);let y=O(!1),t=se({page:1,area:"all",subject:"all",progress:"all",order:"hot"}),F=O([{label:"最热",val:"hot"},{label:"最新",val:"last"}]);oe(()=>_.fullPath,()=>{t.page=_.params.page||1,t.area=_.params.area||"all",t.subject=_.params.subject||"all",t.progress=_.params.progress||"all",t.order=_.params.order||"hot"},{deep:!0,immediate:!0}),_e().on("FILTER_TOGGLE",()=>{N()});const q=d(()=>r=>D.value.area[r]?D.value.area[r].label:"地区"),J=d(()=>r=>I.value.length>0?L(I.value,{alias:r}).children:[]),K=d(()=>r=>{const c=L(T.progress,{val:r});return c?c.label:"进度"}),Y=d(()=>(r,c)=>{const h=J.value(r),S=L(h,{alias:c});return S?S.title:"分类"}),Q=d(()=>{let r=L(F.value,{val:t.order});return r?r.label:"最热"}),U=d(()=>["default","search"].indexOf(z.pageAct)>-1),X=d(()=>["default"].indexOf(z.pageAct)>-1),m=(r,c)=>{t.page=1,t[r]=c,y.value=!1,C.push({path:`/index-${t.area}-${t.subject}-${t.progress}-${t.order}-${t.page}`})},N=()=>{y.value=!y.value};return[v,f]=le(()=>b.getList()),await v,f(),(r,c)=>{const h=ee,S=pe,Z=fe;return U.value?(o(),l("div",{key:0,ref_key:"mainRef",ref:B},[g(Z,{top:0,"trigger-top":0,"listen-to":()=>B.value,class:"container-full zi-1"},{default:x(()=>[e("div",xe,[e("div",we,[e("div",null,[g(h,{class:"logo",to:"/"},{default:x(()=>[R("139漫画")]),_:1})]),e("div",null,[a(P)?(o(),V(h,{key:0,class:"color-white",to:"/user/fav"},{default:x(()=>[R("我的书架")]),_:1})):(o(),V(h,{key:1,class:"color-white",to:"/user/login"},{default:x(()=>[R("登录")]),_:1}))])])]),X.value?(o(),l("div",ke,[e("div",Ce,[e("div",$e,[e("div",{class:"flex-row",onClick:N},[e("div",ye,[e("span",null,u(Q.value),1)]),e("div",{class:i(["tag-item",{act:a(t).area!=="all"}])},[e("span",null,u(q.value(a(t).area)),1)],2),e("div",{class:i(["tag-item",{act:a(t).subject!=="all"}])},[e("span",null,u(Y.value("subject",a(t).subject)),1)],2),e("div",{class:i(["tag-item",{act:a(t).progress!=="all"}])},[e("span",null,u(K.value(a(t).progress)),1)],2)]),g(h,{to:"/search",class:"search-link flex-row align-items-center"},{default:x(()=>[g(S,{size:"18px"},{default:x(()=>[g(a(be))]),_:1}),Se]),_:1})])])])):E("",!0)]),_:1},8,["listen-to"]),re(e("div",Le,[e("div",{class:"mask",onClick:N}),e("div",je,[e("div",Ae,[e("div",Ie,[e("div",{class:i(["cata-item",{act:a(t).area==="all"}]),onClick:c[0]||(c[0]=s=>m("area","all"))}," 全部 ",2),(o(!0),l(w,null,k(a(D).area,(s,n)=>(o(),l("div",{class:i(["cata-item",{act:a(t).area===n}]),onClick:M=>m("area",n),key:n},u(s.label),11,De))),128))]),(o(!0),l(w,null,k(a(I),s=>(o(),l("div",{key:s.alias,class:"flex-row flex-wrap border-box pr-10 bb mt-10"},[e("div",{class:i(["cata-item",{act:a(t)[s.alias]==="all"}]),onClick:n=>m(s.alias,"all")}," 全部 ",10,Ne),(o(!0),l(w,null,k(s.children,n=>(o(),l("div",{class:i(["cata-item",{act:a(t)[s.alias]===n.alias}]),onClick:M=>m(s.alias,n.alias),key:n.alias},u(n.title),11,Oe))),128))]))),128)),e("div",Re,[e("div",{class:i(["cata-item",{act:a(t).progress==="all"}]),onClick:c[1]||(c[1]=s=>m("progress","all"))}," 全部 ",2),(o(!0),l(w,null,k(a(T).progress,(s,n)=>(o(),l("div",{class:i(["cata-item",{act:a(t).progress===s.val}]),onClick:M=>m("progress",s.val),key:n},u(s.label),11,He))),128))]),e("div",Te,[(o(!0),l(w,null,k(a(F),s=>(o(),l("div",{class:i(["cata-item",{act:a(t).order===s.val}]),onClick:n=>m("order",s.val),key:s.val},u(s.label),11,ze))),128))])])])],512),[[ne,a(y)]])],512)):E("",!0)}}},Fe=G(Be,[["__scopeId","data-v-ebc83b3f"]]),Me={class:"footer container-full py-10 flex-col align-items-center color-grey"},Ve={class:"fs-12"},Ee={class:"fs-12"},We={__name:"FooterDefault",setup(p){const v=j.glob(),{conf:f}=A(v),C=new Date().getFullYear();d(()=>f.value.site_name);const b=d(()=>f.value.comic_count);return($,H)=>(o(),l("div",Me,[e("div",Ve," Copyright © 1999-"+u(a(C)),1),e("div",Ee," WWW.139MH.COM 海量在线漫画平台 "+u(b.value),1)]))}},Ge=G(We,[["__scopeId","data-v-ba700469"]]),et={__name:"default",setup(p){const v=W(),f=d(()=>v.meta.index||"default");return(_,C)=>{const b=Fe,$=Ge;return o(),l("div",null,[g(b,{pageAct:a(f)},null,8,["pageAct"]),de(_.$slots,"default"),g($)])}}};export{et as default};
